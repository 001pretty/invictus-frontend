{"version":3,"sources":["components/profile/MainProfile.js","pages/Profile.js"],"names":["MainProfile","useState","orderItems","setOrderItems","useContext","AuthContext","auth","token","userId","setIsAuth","tokenValue","setTokenValue","userIdValue","useEffect","axios","post","headers","Authorization","then","res","data","orders","catch","err","console","log","className","onClick","localStorage","removeItem","style","marginBottom","Array","isArray","length","map","item","key","_id","listStyleType","createdAt","slice","Sale","Header","Footer"],"mappings":"wNAsEeA,MAhEf,WAAwB,IAAD,EACeC,mBAAS,IADxB,mBACdC,EADc,KACFC,EADE,OAEWC,qBAAWC,KAAnCC,EAFa,EAEbA,KAAMC,EAFO,EAEPA,MAAOC,EAFA,EAEAA,OACZC,EAHY,YAGCH,EAHD,oBAIeC,EAJf,GAIdG,EAJc,KAIFC,EAJE,KAKdC,EALc,YAKEJ,EALF,MAmCrB,OA5BAK,qBAAU,WACRC,IACGC,KACC,oBACA,CAAEP,OAAQI,GACV,CACEI,QAAS,CACPC,cAAe,UAAYP,KAIhCQ,MAAK,SAACC,GACLhB,EAAcgB,EAAIC,KAAKC,WAExBC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,CAACX,EAAaF,IAYf,yBAAKgB,UAAU,oBACb,yBAAKA,UAAU,yBACb,uBAAGA,UAAU,gBAAgBC,QAZb,WACpBlB,GAAU,GACVE,GAAc,GACdiB,aAAaC,WAAW,SACxBD,aAAaC,WAAW,cACxBD,aAAaC,WAAW,YAOpB,UAGA,yBAAKH,UAAU,wBAAwBI,MAAO,CAAEC,aAAc,SAC5D,0CAEF,6CAEF,yBAAKL,UAAU,yBACb,yBAAKA,UAAU,sBAAf,WAEDM,MAAMC,QAAQ/B,IAAeA,EAAWgC,OACvChC,EAAWiC,KAAI,SAACC,GAAD,OACb,wBAAIC,IAAKD,EAAKE,IAAKR,MAAO,CAAES,cAAe,SACzC,yBAAKb,UAAU,cACb,qCAAOU,EAAKI,UAAUC,MAAM,EAAG,IAA/B,wBAAkDL,EAAKE,WAK7D,8DChDOI,UAVf,WACE,OACE,6BACE,kBAACC,EAAA,EAAD,MACA,kBAAC,EAAD,MACA,kBAACC,EAAA,EAAD","file":"static/js/8.9e13c87e.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./MainProfile.css\";\r\nimport { AuthContext } from \"context/AuthContext\";\r\n\r\nfunction MainProfile() {\r\n  const [orderItems, setOrderItems] = useState([]);\r\n  const { auth, token, userId } = useContext(AuthContext);\r\n  const [, setIsAuth] = auth;\r\n  const [tokenValue, setTokenValue] = token;\r\n  const [userIdValue,] = userId;\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"/items/orderitems\",\r\n        { userId: userIdValue },\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + tokenValue,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setOrderItems(res.data.orders);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [userIdValue, tokenValue]);\r\n\r\n  const logoutHandler = () => {\r\n    setIsAuth(false);\r\n    setTokenValue(false);\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"expiryDate\");\r\n    localStorage.removeItem(\"userId\");\r\n    return;\r\n  };\r\n\r\n  return (\r\n    <div className=\"ProfileContainer\">\r\n      <div className=\"ProfileAccountWrapper\">\r\n        <p className=\"ProfileLogout\" onClick={logoutHandler}>\r\n          LOGOUT\r\n        </p>\r\n        <div className=\"ProfileAccountHeading\" style={{ marginBottom: \"20px\" }}>\r\n          <p>MY PROFILE</p>\r\n        </div>\r\n        <p>Welcome back!</p>\r\n      </div>\r\n      <div className=\"ProfileProductWrapper\">\r\n        <div className=\"ProfileProductName\">ORDERS</div>\r\n      </div>\r\n      {Array.isArray(orderItems) && orderItems.length ? (\r\n        orderItems.map((item) => (\r\n          <li key={item._id} style={{ listStyleType: \"none\" }}>\r\n            <div className=\"ProfileRow\">\r\n              <p>{`${item.createdAt.slice(0, 10)}  -  Order: #${item._id}`}</p>\r\n            </div>\r\n          </li>\r\n        ))\r\n      ) : (\r\n        <p>No orders have been made yet.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainProfile;\r\n","import React from \"react\";\r\n\r\nimport Header from \"components/shared/Header/Header\";\r\nimport Footer from \"components/shared/Footer/Footer\";\r\nimport MainProfile from \"components/profile/MainProfile\";\r\n\r\nfunction Sale() {\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <MainProfile />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sale;\r\n"],"sourceRoot":""}